var f7ActionSheetBinding=new Shiny.InputBinding;$.extend(f7ActionSheetBinding,{find:function(e){},getValue:function(e){},receiveMessage:function(e,n){},subscribe:function(e,n){},unsubscribe:function(e){}}),Shiny.inputBindings.register(f7ActionSheetBinding);var f7AutoCompleteBinding=new Shiny.InputBinding;$.extend(f7AutoCompleteBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","choices","value","dropdownPlaceholderText"].indexOf(n)){var i="true"==e.value;t[n]=i}else t[n]=e.value}}));var i=JSON.parse(t.choices);t.value=JSON.parse(t.value),"dropdown"==t.openIn?t.inputEl="#"+n:t.openerEl="#"+n,t.on={change:function(e){$("#"+n).find(".item-after").text(e[0]),$("#"+n).find("input").val(e[0]),$("#"+n).trigger("change")}},t.source=function(e,n){var t=[];if(0!==e.length){for(var a=0;a<i.length;a++)i[a].toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(i[a]);n(t)}else n(t)},app.autocomplete.create(t)},find:function(e){return $(e).find(".autocomplete-input")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.autocomplete.get($(e)).value},setValue:function(e,n){app.autocomplete.get($(e)).value=n,$(e).trigger("change")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value)},subscribe:function(e,n){$(e).on("change.f7AutoCompleteBinding",(function(e){setTimeout((function(){n()}),10)}))},unsubscribe:function(e){$(e).off(".f7AutoCompleteBinding")}}),Shiny.inputBindings.register(f7AutoCompleteBinding,"f7.autocomplete");var f7ButtonInputBinding=new Shiny.InputBinding;$.extend(f7ButtonInputBinding,{find:function(e){return $(e).find(".f7-action-button")},getValue:function(e){return $(e).data("val")||0},setValue:function(e,n){$(e).data("val",n)},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},subscribe:function(e,n){$(e).on("click.f7ButtonInputBinding",(function(e){var t=$(this),i=t.data("val")||0;t.data("val",i+1),n()}))},getState:function(e){return{value:this.getValue(e)}},receiveMessage:function(e,n){var t=$(e);if(n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("fill")){var i=$(e).hasClass("button-fill");n.fill?i||$(e).addClass("button-fill"):i&&$(e).removeClass("button-fill")}if(n.hasOwnProperty("outline")){var a=$(e).hasClass("button-outline");n.outline?a||$(e).addClass("button-outline"):a&&$(e).removeClass("button-outline")}if(n.hasOwnProperty("shadow")){var r=$(e).hasClass("button-raised");n.shadow?r||$(e).addClass("button-raised"):r&&$(e).removeClass("button-raised")}if(n.hasOwnProperty("rounded")){var s=$(e).hasClass("button-round");n.rounded?s||$(e).addClass("button-round"):s&&$(e).removeClass("button-round")}if(n.hasOwnProperty("size")){var o=$(e).hasClass("button-large"),u=$(e).hasClass("button-small");!o&!u&&$(e).addClass("button-"+n.size),!o&u&&($(e).removeClass("button-small"),$(e).addClass("button-"+n.size)),o&!u&&($(e).removeClass("button-large"),$(e).addClass("button-"+n.size))}var l=t.text();n.hasOwnProperty("label")&&(l=n.label),t.html(l)},unsubscribe:function(e){$(e).off(".f7ButtonInputBinding")}}),Shiny.inputBindings.register(f7ButtonInputBinding,"f7.button"),$(document).on("click","a.f7-action-button",(function(e){e.preventDefault()}));var f7CardBinding=new Shiny.InputBinding;$.extend(f7CardBinding,{find:function(e){return $(e).find(".card-expandable")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return $(e).hasClass("card-opened")},receiveMessage:function(e,n){app.card.toggle($(e))},subscribe:function(e,n){$(e).on("card:opened.f7CardBinding card:closed.f7CardBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CardBinding")}}),Shiny.inputBindings.register(f7CardBinding,"f7.card");var f7CollapsibleBinding=new Shiny.InputBinding;$.extend(f7CollapsibleBinding,{find:function(e){return $(e).find(".collapsible")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){var n=$($(e)[0]).attr("id"),t=$("#"+n+" li.accordion-item-opened");if(t.length>0){if(1===t.length)return{state:!0,value:$(t[0]).find(".item-title").html()};var i=[];return $(t).each((function(e){i.push($(t[e]).find(".item-title").html())})),{state:!0,value:i}}return{state:!1,value:null}},receiveMessage:function(e,n){if(n.hasOwnProperty("selected")){var t=$($(e)[0]).attr("id"),i=$("#"+t+" .accordion-item"),a=n.selected-1,r=$(i[a]);app.accordion.toggle(r)}},subscribe:function(e,n){$(e).on("accordion:opened.f7CollapsibleBinding accordion:closed.f7CollapsibleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CollapsibleBinding")}}),Shiny.inputBindings.register(f7CollapsibleBinding,"f7.collapsible");var f7ColorPickerBinding=new Shiny.InputBinding;$.extend(f7ColorPickerBinding,{initialize:function(e){app.colorPicker.create({inputEl:e,targetEl:$(e).attr("id")+"-value",targetElSetBackgroundColor:!0,modules:colorPickerModules,openIn:"auto",sliderValue:colorPickerSliderValue,sliderValueEditable:colorPickerSliderValueEditable,sliderLabel:colorPickerSliderLabel,hexLabel:colorPickerHexLabel,hexValueEditable:colorPickerHexValueEditable,groupedModules:colorPickerGroupedModules,palette:colorPickerPalettes,value:{hex:colorPickerValue}})},find:function(e){return $(e).find(".color-picker-input")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){var n=$(e).attr("id");return document.getElementById(n).value},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("change.f7ColorPickerBinding ",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ColorPickerBinding ")}}),Shiny.inputBindings.register(f7ColorPickerBinding,"f7.colorpicker");var f7DateBinding=new Shiny.InputBinding;$.extend(f7DateBinding,{find:function(e){return $(e).find(".date-input")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return console.log($(e).attr("value")),$(e).attr("value")},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("keyup.dateInputBinding input.dateInputBinding",(function(e){n(!0)})),$(e).on("change.f7DateBinding",(function(e){n(!1)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7DateBinding")}}),Shiny.inputBindings.register(f7DateBinding,"f7.date");var f7DatePickerBinding=new Shiny.InputBinding;$.extend(f7DatePickerBinding,{initialize:function(e){var n=$(e)[0],t=$(e).parent().find("script[data-for='"+e.id+"']");if((t=JSON.parse(t.html())).hasOwnProperty("value"))for(var i=0;i<t.value.length;i++)t.value[i]=new Date(t.value[i]);else t.value=[new Date];t.inputEl=n;var a=app.calendar.create(t);this["calendar-"+e.id]=a},find:function(e){return $(e).find(".calendar-input")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getType:function(e){return"f7DatePicker.date"},getValue:function(e){return this["calendar-"+e.id].getValue()},setValue:function(e,n){this["calendar-"+e.id].setValue(n)},receiveMessage:function(e,n){if(n.hasOwnProperty("config")&&(this["calendar-"+e.id].destroy(),n.config.inputEl=e,this["calendar-"+e.id]=app.calendar.create(n.config)),n.hasOwnProperty("value")){for(var t,i=0;i<n.value.length;i++)t=new Date(n.value[i]),n.value[i]=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.setValue(e,n.value)}},subscribe:function(e,n){$(e).on("change.f7DatePickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7DatePickerBinding")}}),Shiny.inputBindings.register(f7DatePickerBinding,"f7.datepicker");var f7FabsBinding=new Shiny.InputBinding;$.extend(f7FabsBinding,{find:function(e){return $(e).find(".fab")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return $(e).hasClass("fab-opened")},receiveMessage:function(e,n){app.fab.toggle("#"+$(e).attr("id"))},subscribe:function(e,n){$(e).on("fab:open.f7FabsBinding fab:close.f7FabsBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7FabsBinding")}}),Shiny.inputBindings.register(f7FabsBinding,"f7.fabs");var f7GaugeBinding=new Shiny.InputBinding;$.extend(f7GaugeBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));t[n]=e.value}})),t.valueText=100*t.value+"%",t.el="#"+n;app.gauge.create(t)},find:function(e){return $(e).find(".gauge")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){},receiveMessage:function(e,n){app.gauge.get($(e)).update({value:n.value/100,valueText:n.value+"%",labelText:n.text,size:n.size,bgColor:n.bgColor,borderBgColor:n.borderBgColor,borderColor:n.borderColor,borderWidth:n.borderWidth,valueTextColor:n.valueTextColor,valueFontSize:n.valueFontSize,valueFontWeight:n.valueFontWeight,labelTextColor:n.labelTextColor,labelFontSize:n.labelFontSize,labelFontWeight:n.labelFontWeight})}}),Shiny.inputBindings.register(f7GaugeBinding,"f7.gauge");var f7LoginBinding=new Shiny.InputBinding;$.extend(f7LoginBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.animate=!1,n.on={opened:function(){$(e).trigger("shown")}};var t=app.loginScreen.create(n);JSON.parse($(e).attr("data-start-open"))[0]&&t.open()},find:function(e){return $(e).find(".login-screen")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.loginScreen.get($(e)).opened},receiveMessage:function(e,n){var t=app.loginScreen.get($(e));t.opened?n.user.length>0&&n.password.length>0?t.close():app.dialog.alert("Please enter a valid password and user."):t.open()},subscribe:function(e,n){$(e).on("loginscreen:opened.f7LoginBinding loginscreen:closed.f7LoginBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7LoginBinding")}}),Shiny.inputBindings.register(f7LoginBinding,"f7.login");var f7MessageBarBinding=new Shiny.InputBinding;$.extend(f7MessageBarBinding,{initialize:function(e){app.messagebar.create({el:"#"+$(e).attr("id")})},setState:function(e){var n=app.messagebar.get($(e)).getValue(),t=$(e).find("#"+e.id+"-send");return n.length?$(t).removeClass("disabled"):$(t).addClass("disabled"),n},find:function(e){return $(e).find(".messagebar")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return this.setState(e)},setValue:function(e,n){app.messagebar.get($(e)).setValue(n)},setPlaceholder:function(e,n){app.messagebar.get($(e)).setPlaceholder(n)},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("placeholder")&&this.setPlaceholder(e,n.placeholder)},subscribe:function(e,n){$(e).on("input.f7MessageBarBinding change.f7MessageBarBinding focus.f7MessageBarBinding blur.f7MessageBarBinding",(function(t){$(e).find("#"+e.id+"-send").on("click",(function(){setTimeout((function(){app.messagebar.get($(e)).clear().focus()}),1e3)})),n(!0)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7MessageBarBinding")}}),Shiny.inputBindings.register(f7MessageBarBinding,"f7.messagebar");var f7MessagesBinding=new Shiny.InputBinding;$.extend(f7MessagesBinding,{initialize:function(e){$(".page-content").addClass("messages-content");var n=$(e).attr("id"),t=$(e).find("script[data-for='"+n+"']");(t=JSON.parse(t.html())).el="#"+n,t.firstMessageRule=function(e,n,t){return!e.isTitle&&(!n||n.type!==e.type||n.name!==e.name)},t.lastMessageRule=function(e,n,t){return!e.isTitle&&(!t||t.type!==e.type||t.name!==e.name)},t.tailMessageRule=function(e,n,t){return!e.isTitle&&(!t||t.type!==e.type||t.name!==e.name)},app.messages.create(t)},find:function(e){return $(e).find(".messages")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.messages.get($(e)).messages},setValue:function(e,n){responseInProgress=!0;var t=app.messages.get($(e));if(n.showTyping){var i=n.value.pop().name;setTimeout((function(){t.showTyping({header:i+" is typing"}),setTimeout((function(){t.addMessages(n.value),t.hideTyping(),responseInProgress=!1}),1e3)}),500)}else t.addMessages(n.value)},receiveMessage:function(e,n){this.setValue(e,n),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7MessagesBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7MessagesBinding")}}),Shiny.inputBindings.register(f7MessagesBinding,"f7.messages");var f7PanelBinding=new Shiny.InputBinding;$.extend(f7PanelBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.on={opened:function(){$(e).trigger("shown")}},app.panel.create(n)},find:function(e){return $(e).find(".panel")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.panel.get($(e)).opened},receiveMessage:function(e,n){var t=app.panel.get($(e));t.toggle(t.side)},subscribe:function(e,n){$(e).on("panel:open.f7PanelBinding panel:close.f7PanelBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PanelBinding")}}),Shiny.inputBindings.register(f7PanelBinding,"f7.panel");var f7PickerBinding=new Shiny.InputBinding;$.extend(f7PickerBinding,{initialize:function(e){var n=$(e)[0],t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","toolbarCloseText","choices","value"].indexOf(n)){var i="true"==e.value;t[n]=i}else t[n]=e.value}})),t.inputEl=n,t.value=JSON.parse(t.value),t.cols=[{textAlign:"center",values:JSON.parse(t.choices)}];var i=app.picker.create(t);n.f7Picker=i},find:function(e){return $(e).find(".picker-input")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.picker.get($(e)).value},setValue:function(e,n){var t=app.picker.get($(e));t.value=n,t.displayValue=n,t.open(),setTimeout((function(){t.close()}),10)},receiveMessage:function(e,n){var t=app.picker.get($(e));n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("choices")&&(t.cols[0].values=n.choices),n.hasOwnProperty("rotateEffect")&&(t.params.rotateEffect=n.rotateEffect),n.hasOwnProperty("openIn")&&(t.params.openIn=n.openIn),n.hasOwnProperty("scrollToInput")&&(t.params.scrollToInput=n.scrollToInput),n.hasOwnProperty("closeByOutsideClick")&&(t.params.closeByOutsideClick=n.closeByOutsideClick),n.hasOwnProperty("toolbar")&&(t.params.toolbar=n.toolbar),n.hasOwnProperty("toolbarCloseText")&&(t.params.toolbarCloseText=n.toolbarCloseText),n.hasOwnProperty("sheetSwipeToClose")&&(t.params.sheetSwipeToClose=n.sheetSwipeToClose)},subscribe:function(e,n){$(e).on("change.f7PickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PickerBinding")}}),Shiny.inputBindings.register(f7PickerBinding,"f7.picker");var f7PopupBinding=new Shiny.InputBinding;$.extend(f7PopupBinding,{initialize:function(e){var n=$(e).find("script[data-for='"+e.id+"']");(n=JSON.parse(n.html())).el=e,n.on={opened:function(){$(e).trigger("shown")}};app.popup.create(n)},find:function(e){return $(e).find(".popup")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.popup.get($(e)).opened},receiveMessage:function(e,n){var t=app.popup.get($(e));t.opened?t.close():t.open()},subscribe:function(e,n){$(e).on("popup:opened.f7PopupBinding popup:closed.f7PopupBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PopupBinding")}}),Shiny.inputBindings.register(f7PopupBinding,"f7.popup");var f7SelectBinding=new Shiny.InputBinding;$.extend(f7SelectBinding,{find:function(e){return $(e).find(".input-select")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return $(e).val()},setValue:function(e,n){$(e).val(n)},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&this.setValue(e,n.selected),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7SelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SelectBinding")}}),Shiny.inputBindings.register(f7SelectBinding,"f7.select");var f7SheetBinding=new Shiny.InputBinding;$.extend(f7SheetBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()})),i="true"==e.value;t[n]=i}})),t.el="#"+n,t.on={opened:function(){$(e).trigger("shown")}};app.sheet.create(t)},find:function(e){return $(e).find(".sheet-modal")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.sheet.get($(e)).opened},receiveMessage:function(e,n){var t=app.sheet.get($(e));t.opened?t.close():t.open()},subscribe:function(e,n){$(e).on("sheet:open.f7SheetBinding sheet:close.f7SheetBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SheetBinding")}}),Shiny.inputBindings.register(f7SheetBinding,"f7.sheet");var f7SliderBinding=new Shiny.InputBinding;$.extend(f7SliderBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","scaleSteps","scaleSubSteps","valueLeft","valueRight"].indexOf(n)){var i="true"==e.value;t[n]=i}else t[n]=parseFloat(e.value)}})),t.el="#"+n;app.range.create(t)},find:function(e){return $(e).find(".range-slider")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.range.get($(e)).value},setValue:function(e,n){app.range.setValue(e,n)},receiveMessage:function(e,n){var t=app.range.get($(e));if(n.hasOwnProperty("min")&&(t.min=n.min,t.updateScale()),n.hasOwnProperty("max")&&(t.max=n.max,t.updateScale()),n.hasOwnProperty("step")&&(t.step=n.step,t.updateScale()),n.hasOwnProperty("scaleSteps")&&(t.scaleSteps=n.scaleSteps,t.updateScale()),n.hasOwnProperty("scaleSubSteps")&&(t.scaleSubSteps=n.scaleSubSteps,t.updateScale()),n.hasOwnProperty("scale")&&(t.scale=n.scale),n.hasOwnProperty("value")){var i=n.value;$.isArray(i)?this.setValue(e,i):(t.dual=!1,t.updateScale(),this.setValue(e,i))}n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("range:change.f7SliderBinding",(function(e){n(!0)}))},unsubscribe:function(e){$(e).off(".f7SliderBinding")},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(f7SliderBinding,"f7.range");var f7SmartSelectBinding=new Shiny.InputBinding;$.extend(f7SmartSelectBinding,{initialize:function(e){var n=$(e).children().eq(0).attr("id"),t=$(e).children().eq(2);(t=JSON.parse(t.html())).el="#"+n;var i=app.smartSelect.create(t);this["smart-select-"+e.id]=i},find:function(e){return $(e).find(".smart-select")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return this["smart-select-"+e.id].getValue()},setValue:function(e,n){this["smart-select-"+e.id].setValue(n)},receiveMessage:function(e,n){n.hasOwnProperty("config")&&(this["smart-select-"+e.id].destroy(),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("selected")&&this.setValue(e,n.selected),n.hasOwnProperty("multiple")&&n.multiple&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("multiple",""),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("maxLength")&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("maxLength",n.maxLength),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config))},subscribe:function(e,n){$(e).on("change.f7SmartSelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SmartSelectBinding")}}),Shiny.inputBindings.register(f7SmartSelectBinding,"f7.smartselect");var f7StepperBinding=new Shiny.InputBinding;$.extend(f7StepperBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","decimalPoint"].indexOf(n)){var i="true"==e.value;t[n]=i}else t[n]=parseFloat(e.value)}})),t.el="#"+n;app.stepper.create(t);if(!t.manualInputMode){var i=$(e).find("input");$(i).attr("readonly","")}},find:function(e){return $(e).find(".stepper")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.stepper.get($(e)).value},setValue:function(e,n){app.stepper.setValue(e,n)},increment:function(){app.stepper.increment()},decrement:function(){app.stepper.decrement()},receiveMessage:function(e,n){var t=app.stepper.get($(e));if(n.hasOwnProperty("min")&&(t.min=n.min,t.params.min=n.min),n.hasOwnProperty("max")&&(t.max=n.max,t.params.max=n.max),n.hasOwnProperty("wraps")&&(t.params.wraps=n.wraps),n.hasOwnProperty("decimalPoint")&&(t.decimalPoint=n.decimalPoint,t.params.decimalPoint=n.decimalPoint),n.hasOwnProperty("manual")){t.params.manualInputMode=n.manual;var i=$(e).find("input");n.manual?void 0!==$(i).attr("readonly")&&$(i).removeAttr("readonly"):$(i).attr("readonly","")}n.hasOwnProperty("step")&&(t.step=n.step,t.params.step=n.step),n.hasOwnProperty("autorepeat")&&(t.params.autorepeat=n.autorepeat,t.params.autorepeatDynamic=n.autorepeat),n.hasOwnProperty("rounded")&&(n.rounded?$(e).addClass("stepper-round"):$(e).removeClass("stepper-round")),n.hasOwnProperty("raised")&&(n.raised?$(e).addClass("stepper-raised"):$(e).removeClass("stepper-raised")),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("size")&&($(e).hasClass("stepper-small")||$(e).hasClass("stepper-large")?$(e).hasClass("stepper-small")&&"large"==n.size?($(e).removeClass("stepper-small"),$(e).addClass("stepper-large")):$(e).hasClass("stepper-large")&&"small"==n.size&&($(e).addClass("stepper-small"),$(e).removeClass("stepper-large")):"small"==n.size?$(e).addClass("stepper-small"):"large"==n.size&&$(e).addClass("stepper-large")),n.hasOwnProperty("value")&&(this.setValue(e,n.value),t.params.value=n.value)},subscribe:function(e,n){$(e).on("stepper:change.f7StepperBinding",(function(t){app.stepper.get($(e)).params.autorepeat?n(!0):n()}))},unsubscribe:function(e){$(e).off(".f7StepperBinding")},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(f7StepperBinding,"f7.stepper");var f7TabsBinding=new Shiny.InputBinding;$.extend(f7TabsBinding,{find:function(e){return $(e).find(".tabs")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){var n;return n=$(e).hasClass("standalone")?$(e).find(".tab-active"):$(e).find(".page-content.tab-active"),$(n).data("hidden")?$(".tab-link-highlight").hide():$(".tab-link-highlight").show(),$(n).attr("data-value")},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&app.tab.show("#"+n.ns+"-"+n.selected)},subscribe:function(e,n){$(e).on("tab:show.f7TabsBinding",(function(t){$(e).trigger("shown"),n()}))},unsubscribe:function(e){$(e).off(".f7TabsBinding")}}),Shiny.inputBindings.register(f7TabsBinding,"f7.tabs");var f7ToggleBinding=new Shiny.InputBinding;$.extend(f7ToggleBinding,{initialize:function(e){app.toggle.create({el:e})},find:function(e){return $(e).find(".toggle")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){return app.toggle.get($(e)).checked},setValue:function(e,n){app.toggle.get($(e)).checked=n},receiveMessage:function(e,n){n.hasOwnProperty("checked")&&this.setValue(e,n.checked),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("toggle:change.f7ToggleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ToggleBinding")}}),Shiny.inputBindings.register(f7ToggleBinding,"f7.toggle");var f7VirtualListBinding=new Shiny.InputBinding;$.extend(f7VirtualListBinding,{decodeHTML:function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value},initialize:function(e){var n,t=$(e).attr("id"),i=$(e).find("script[data-for='"+t+"']");for(var a of((i=JSON.parse(i.html())).el="#"+t,i.items))a.media.length>0&&(a.media='<div class="item-media">'+this.decodeHTML(a.media)+"</div>");n=void 0===i.items[0].url?'<li><div class="item-content">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></div></li>':'<li><a class="item-link item-content external" href="url" target="_blank">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></a></li>',i.itemTemplate=n,i.searchAll=function(e,n){for(var t=[],i=0;i<n.length;i++)(n[i].title.toLowerCase().indexOf(e.toLowerCase())>=0||""===e.trim())&&t.push(i);return t},i.height=void 0!==i.items[0].media?"ios"===app.theme?112:"md"===app.theme?132:78:"ios"===app.theme?63:"md"===app.theme?73:46,app.virtualList.create(i)},find:function(e){return $(e).find(".virtual-list")},getId:function(e){return Shiny.InputBinding.prototype.getId.call(this,e)||e.name},getValue:function(e){var n=app.virtualList.get($(e));return{length:n.items.length,current_from:n.currentFromIndex+1,current_to:n.currentToIndex+1,reach_end:n.reachEnd}},setValue:function(e,n){var t=app.virtualList.get($(e));t.resetFilter();var i=function(e){var n;if(void 0===e.length)n=`<div class="item-media">${e.media}</div>`,e.media=n;else for(var t=0;t<e.length;t++)n=`<div class="item-media">${e[t].media}</div>`,e[t].media=n;return e};switch(n.action){case"appendItem":t.appendItem(i(n.item));break;case"prependItem":t.prependItem(i(n.item));break;case"appendItems":t.appendItems(i(n.items));break;case"prependItems":t.prependItems(i(n.items));break;case"replaceItem":t.replaceItem(n.index,n.item);break;case"replaceAllItems":t.replaceAllItems(n.items);break;case"moveItem":t.moveItem(n.oldIndex,n.newIndex);break;case"insertItemBefore":t.insertItemBefore(n.index,i(n.item));break;case"filterItems":t.filterItems(n.indexes);break;case"deleteItem":t.deleteItem(n.index);break;case"deleteAllItems":t.deleteAllItems(n.indexes);break;case"scrollToItem":t.scrollToItem(n.index)}$(e).trigger("change")},receiveMessage:function(e,n){this.setValue(e,n)},subscribe:function(e,n){$(e).on("change.f7VirtualListBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7VirtualListBinding")}}),Shiny.inputBindings.register(f7VirtualListBinding,"f7.virtuallist");
