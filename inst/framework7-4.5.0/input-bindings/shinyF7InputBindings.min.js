var f7ColorPickerBinding=new Shiny.InputBinding();$.extend(f7ColorPickerBinding,{initialize:function(el){app.colorPicker.create({inputEl:el,targetEl:$(el).attr("id")+'-value',targetElSetBackgroundColor:!0,modules:colorPickerModules,openIn:'auto',sliderValue:colorPickerSliderValue,sliderValueEditable:colorPickerSliderValueEditable,sliderLabel:colorPickerSliderLabel,hexLabel:colorPickerHexLabel,hexValueEditable:colorPickerHexValueEditable,groupedModules:colorPickerGroupedModules,palette:colorPickerPalettes,value:{hex:colorPickerValue,},})},find:function(scope){return $(scope).find(".color-picker-input")},getValue:function(el){var ID=$(el).attr("id");return document.getElementById(ID).value},setValue:function(el,value){app.colorPicker.setValue($(el)).value},receiveMessage:function(el,data){},subscribe:function(el,callback){$(el).on("change.f7ColorPickerBinding ",function(e){callback()})},unsubscribe:function(el){$(el).off(".f7ColorPickerBinding ")}});Shiny.inputBindings.register(f7ColorPickerBinding);var f7DateBinding=new Shiny.InputBinding();$.extend(f7DateBinding,{find:function(scope){return $(scope).find(".date-input")},getValue:function(el){console.log($(el).attr("value"));return $(el).attr("value")},setValue:function(el,value){},receiveMessage:function(el,data){},subscribe:function(el,callback){$(el).on('keyup.dateInputBinding input.dateInputBinding',function(event){callback(!0)});$(el).on("change.f7DateBinding",function(e){callback(!1)})},getRatePolicy:function(){return{policy:'debounce',delay:250}},unsubscribe:function(el){$(el).off(".f7DateBinding")}});Shiny.inputBindings.register(f7DateBinding);var f7DatePickerBinding=new Shiny.InputBinding();$.extend(f7DatePickerBinding,{initialize:function(el){var date=$(el).attr("placeholder");if(date===undefined){date=new Date()}
app.calendar.create({multiple:!1,dateFormat:'yyyy-mm-dd',inputEl:el,value:[date]});$(el).click();app.calendar.close()},find:function(scope){return $(scope).find(".calendar-input")},getValue:function(el){var value=$(".calendar-day-selected").attr("data-date");value=value.split("-");n=parseInt(value[1])+1;if(value[2]<10){value=value[0]+"-0"+n+"-0"+value[2]}else{value=value[0]+"-0"+n+"-"+value[2]}
return value},setValue:function(el,value){app.calendar.setValue($(el)).value},receiveMessage:function(el,data){},subscribe:function(el,callback){$(el).on("change.f7DatePickerBinding",function(e){callback()})},unsubscribe:function(el){$(el).off(".f7DatePickerBinding")}});Shiny.inputBindings.register(f7DatePickerBinding);var f7PickerBinding=new Shiny.InputBinding();$.extend(f7PickerBinding,{initialize:function(el){var inputEl=$(el)[0];var id=$(el).attr("id");function SetTo5(inputId,varString){var res=eval(inputId+"_"+varString);return res}
var p=app.picker.create({inputEl:inputEl,rotateEffect:!0,cols:[{textAlign:'center',values:SetTo5(id,"vals")}],value:SetTo5(id,"val"),on:{init:function(picker){picker.open();setTimeout(function(){picker.close()},10)},open:function(picker){},close:function(picker){}}});inputEl.f7Picker=p},find:function(scope){return $(scope).find(".picker-input")},getValue:function(el){var p=app.picker.get($(el));return p.cols[0].value},setValue:function(el,value){var p=app.picker.get($(el));if(value.length==1){p.cols[0].value=value;p.cols[0].displayValue=value;p.displayValue[0]=value;p.value[0]=value;p.open();setTimeout(function(){p.close()},10)}},receiveMessage:function(el,data){var p=app.picker.get($(el));if(data.hasOwnProperty('choices')){p.cols[0].values=data.choices}
if(data.hasOwnProperty('value')){this.setValue(el,data.value)}},subscribe:function(el,callback){$(el).on("change.f7PickerBinding",function(e){callback()})},unsubscribe:function(el){$(el).off(".f7PickerBinding")}});Shiny.inputBindings.register(f7PickerBinding);var f7SliderBinding=new Shiny.InputBinding();$.extend(f7SliderBinding,{initialize:function(el){app.range.create({el:el})},find:function(scope){return $(scope).find(".range-slider")},getValue:function(el){return app.range.get($(el)).value},setValue:function(el,value){app.range.setValue(el,value)},receiveMessage:function(el,data){var r=app.range.get($(el));if(data.hasOwnProperty('min')){r.min=data.min}
if(data.hasOwnProperty('max')){r.max=data.max}
if(data.hasOwnProperty('scale')){if(data.scale=="true"){data.scale=!0}else{data.scale=!1}
r.scale=data.scale}
r.updateScale();if(data.hasOwnProperty('value')){var val=data.value;if($.isArray(val)){this.setValue(el,val)}else{r.dual=!1;r.updateScale();this.setValue(el,val)}}},subscribe:function(el,callback){$(el).on("range:change.f7SliderBinding",function(e){callback(!0)})},unsubscribe:function(el){$(el).off(".f7SliderBinding")},getRatePolicy:function(){return{policy:'debounce',delay:250}}});Shiny.inputBindings.register(f7SliderBinding);var f7StepperBinding=new Shiny.InputBinding();$.extend(f7StepperBinding,{initialize:function(el){var id=$(el).attr("id");function SetTo5(inputId,varString){var res=eval(inputId+"_"+varString);return res}
app.stepper.create({el:el,wraps:SetTo5(id,"stepperWraps"),autorepeat:SetTo5(id,"stepperAutoRepeat"),autorepeatDynamic:SetTo5(id,"stepperAutoRepeatDynamic"),manualInputMode:SetTo5(id,"stepperManualInputMode")});if(!SetTo5(id,"stepperManualInputMode")){var inputTarget=$(el).find('input');$(inputTarget).attr('readonly','')}},find:function(scope){return $(scope).find(".stepper")},getValue:function(el){return app.stepper.get($(el)).value},setValue:function(el,value){app.stepper.setValue(el,value)},increment:function(){app.stepper.increment()},decrement:function(){app.stepper.decrement()},receiveMessage:function(el,data){var s=app.stepper.get($(el));if(data.hasOwnProperty('min')){s.min=data.min;s.params.min=data.min}
if(data.hasOwnProperty('max')){s.max=data.max;s.params.max=data.max}
if(data.hasOwnProperty('wraps')){s.params.wraps=data.wraps}
if(data.hasOwnProperty('manual')){s.params.manualInputMode=data.manual;var inputTarget=$(el).find('input');if(data.manual){if(typeof $(inputTarget).attr('readonly')!==typeof undefined){$(inputTarget).removeAttr('readonly')}}else{$(inputTarget).attr('readonly','')}}
if(data.hasOwnProperty('step')){s.step=data.step;s.params.step=data.step}
if(data.hasOwnProperty('autorepeat')){s.params.autorepeat=data.autorepeat;s.params.autorepeatDynamic=data.autorepeat}
if(data.hasOwnProperty('rounded')){if(data.rounded){$(el).addClass("stepper-round")}else{$(el).removeClass("stepper-round")}}
if(data.hasOwnProperty('raised')){if(data.raised){$(el).addClass('stepper-raised')}else{$(el).removeClass('stepper-raised')}}
if(data.hasOwnProperty('color')){$(el).removeClass(function(index,className){return(className.match(/(^|\s)color-\S+/g)||[]).join(' ')});$(el).addClass('color-'+data.color)}
if(data.hasOwnProperty('size')){if($(el).hasClass('stepper-small')||$(el).hasClass('stepper-large')){if($(el).hasClass('stepper-small')&&data.size=="large"){$(el).removeClass('stepper-small');$(el).addClass('stepper-large')}else if($(el).hasClass('stepper-large')&&data.size=="small"){$(el).addClass('stepper-small');$(el).removeClass('stepper-large')}}else{if(data.size=="small"){$(el).addClass('stepper-small')}else if(data.size=="large"){$(el).addClass('stepper-large')}}}
if(data.hasOwnProperty('value')){this.setValue(el,data.value);s.params.value=data.value}},subscribe:function(el,callback){$(el).on('stepper:change.f7StepperBinding',function(e){var s=app.stepper.get($(el));if(s.params.autorepeat){callback(!0)}else{callback()}})},unsubscribe:function(el){$(el).off('.f7StepperBinding')},getRatePolicy:function(){return{policy:'debounce',delay:500}}});Shiny.inputBindings.register(f7StepperBinding);var f7TabsBinding=new Shiny.InputBinding();$.extend(f7TabsBinding,{find:function(scope){return $(scope).find(".tabsBindingTarget").siblings()},getValue:function(el){console.log($(el).filter(".tab-active").attr("data-value"));return $(el).filter(".tab-active").attr("data-value")},setValue:function(el,value){},receiveMessage:function(el,data){},subscribe:function(el,callback){$(el).on("change.f7TabsBinding",function(e){callback()})},unsubscribe:function(el){$(el).off(".f7TabsBinding")}});Shiny.inputBindings.register(f7TabsBinding);var f7ToggleBinding=new Shiny.InputBinding();$.extend(f7ToggleBinding,{initialize:function(el){app.toggle.create({el:el})},find:function(scope){return $(scope).find(".toggle")},getValue:function(el){return app.toggle.get($(el)).checked},setValue:function(el,value){var t=app.toggle.get($(el));t.checked=value},receiveMessage:function(el,data){if(data.hasOwnProperty("checked")){this.setValue(el,data.checked)}
if(data.hasOwnProperty("color")){$(el).removeClass(function(index,className){return(className.match(/(^|\s)color-\S+/g)||[]).join(' ')});$(el).addClass("color-"+data.color)}},subscribe:function(el,callback){$(el).on("toggle:change.f7ToggleBinding",function(e){callback()})},unsubscribe:function(el){$(el).off(".f7ToggleBinding")}});Shiny.inputBindings.register(f7ToggleBinding)
