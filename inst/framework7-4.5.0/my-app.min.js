$(function(){var workerId=$('base').attr('href');if(typeof workerId!="undefined"){var pathname=window.location.pathname;var newpath=pathname+workerId;window.history.replaceState({},'newpath',newpath)}
var dark_mode=$('body').hasClass('theme-dark');if(dark_mode){$('.page-content').css('background-color','');$('.page-content.tab').css('background-color','')}else{$('div.messages').css('background-color','gainsboro')}
var subnavbar=$('.subnavbar');if(subnavbar.length==1){$('.page').addClass('page-with-subnavbar')}
Shiny.addCustomMessageHandler("notif",function(message){var closeButton=(message.closeButton=='true');var closeOnClick=(message.closeOnClick=='true');var swipeToClose=(message.swipeToClose=='true');var icon;if(message.icon!==undefined){icon='<i class="'+message.icon.attribs.class+'">'+message.icon.children[0]+'</i>'}else{icon=undefined}
var notif=app.notification.create({icon:icon,title:message.title,titleRightText:message.titleRightText,subtitle:message.subtitle,text:message.text,closeTimeout:parseInt(message.closeTimeout),closeOnClick:closeOnClick,swipeToClose:swipeToClose,closeButton:closeButton});notif.open()});popoverIds=[];getAllPopoverIds=function(){$('[data-popover]').each(function(){popoverIds.push($(this).attr("data-popover"))})};getAllPopoverIds();popoverIds.forEach(function(index){Shiny.addCustomMessageHandler(index,function(message){var popover=app.popover.create({targetEl:'[data-popover = "'+index+'"]',content:'<div class="popover">'+'<div class="popover-inner">'+'<div class="block">'+message.content+'</div>'+'</div>'+'</div>',on:{open:function(popover){console.log('Popover open')},opened:function(popover){console.log('Popover opened')},}});$('[data-popover = "'+index+'"]').on('click',function(){popover.open()})})});Shiny.addCustomMessageHandler("toast",function(message){var closeButton=(message.closeButton=='true');var toast=app.toast.create({text:message.text,position:message.position,closeButton:closeButton,closeTimeout:parseInt(message.closeTimeout),closeButtonText:message.closeButtonText,closeButtonColor:message.closeButtonColor});toast.open()});tabsIds=[];getAllTabsIds=function(){$('.tabs').each(function(){tabsIds.push($(this).attr('id'))})};getAllTabsIds();tabsIds.forEach(function(index){Shiny.addCustomMessageHandler(index,function(message){app.tab.show('#'+message.selected)})});toggleFullScreen=function(){var element=document.documentElement,enterFS=element.requestFullscreen||element.msRequestFullscreen||element.mozRequestFullScreen||element.webkitRequestFullscreen,exitFS=document.exitFullscreen||document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen;if(!document.fullscreenElement&&!document.msFullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement){enterFS.call(element);$('#fullScreenToggle i').html('zoom_out')}else{exitFS.call(document);$('#fullScreenToggle i').html('zoom_in')}}})
